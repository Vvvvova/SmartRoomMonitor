# üìö SmartRoomMonitor (ACM-1) ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**SmartRoomMonitor** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∫–ª–∏–º–∞—Ç-–º–æ–Ω–∏—Ç–æ—Ä –Ω–∞ –±–∞–∑–µ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ ESP32. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–∑–º–µ—Ä—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç–æ –æ–∫–Ω–æ, –¥–∞—ë—Ç —É–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—é, –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ —Ä–∏—Å–∫–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø–ª–µ—Å–µ–Ω–∏. –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–≥–æ–¥–Ω—ã–º API –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–µ—Ç–æ–º –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –æ–∫–Ω–æ –µ—Å–ª–∏ –Ω–∞ —É–ª–∏—Ü–µ –±–æ–ª–µ–µ –≤–ª–∞–∂–Ω–æ —á–µ–º –¥–æ–º–∞).

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π](#-–æ–ø–∏—Å–∞–Ω–∏–µ-–º–æ–¥—É–ª–µ–π)
   - [Settings.h](#1Ô∏è‚É£-settingsh--—Ü–µ–Ω—Ç—Ä-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
   - [ClimateMath.h](#2Ô∏è‚É£-climatemathh--–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ-—Ñ–æ—Ä–º—É–ª—ã)
   - [main.cpp](#3Ô∏è‚É£-maincpp--—Ç–æ—á–∫–∞-–≤—Ö–æ–¥–∞-–∏-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è)
   - [SensorManager](#4Ô∏è‚É£-sensormanager--—Å–µ—Ä–¥—Ü–µ-—Å–∏—Å—Ç–µ–º—ã)
   - [DisplayManager](#5Ô∏è‚É£-displaymanager--oled-—ç–∫—Ä–∞–Ω)
   - [WeatherManager](#6Ô∏è‚É£-weathermanager--–ø–æ–≥–æ–¥–Ω—ã–π-api)
   - [TelegramManager](#7Ô∏è‚É£-telegrammanager--—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
   - [WebManager](#8Ô∏è‚É£-webmanager--http-api-–∏-–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
3. [–ü–æ—Ç–æ–∫–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è](#-–ø–æ—Ç–æ–∫–∏-–∏-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
4. [–í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#Ô∏è-–≤–∞–∂–Ω—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
5. [–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#Ô∏è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
6. [–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π](#-–∏—Å—Ç–æ—Ä–∏—è-–∏–∑–º–µ–Ω–µ–Ω–∏–π-changelog)

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ –º–æ–¥—É–ª—å–Ω–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É. –í –ø–∞–ø–∫–µ **include** –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–æ–¥—É–ª–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏), –∞ –≤ –ø–∞–ø–∫–µ **src** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏.

**–ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (include/):**
- **Settings.h** ‚Äî –µ–¥–∏–Ω—ã–π —Ü–µ–Ω—Ç—Ä –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫: –ø–∏–Ω—ã, Wi-Fi, –ø–æ—Ä–æ–≥–∏, –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- **ClimateMath.h** ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ç–æ—á–∫–∏ —Ä–æ—Å—ã –∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏
- **SensorManager.h** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–∞—Ç—á–∏–∫–æ–≤ –∏ –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
- **DisplayManager.h** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è OLED-–¥–∏—Å–ø–ª–µ–µ–º
- **WebManager.h** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å HTTP-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –≤–µ–±-–ø–∞–Ω–µ–ª–∏
- **WeatherManager.h** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- **TelegramManager.h** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Telegram-–±–æ—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (src/):**
- **main.cpp** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π, –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª
- **SensorManager.cpp** ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–ª–∏–º–∞—Ç–∞
- **DisplayManager.cpp** ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ OLED —ç–∫—Ä–∞–Ω–µ
- **WebManager.cpp** ‚Äî HTTP API –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-–¥–∞—à–±–æ—Ä–¥
- **WeatherManager.cpp** ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∫ –ø–æ–≥–æ–¥–Ω–æ–º—É API open-meteo.com
- **TelegramManager.cpp** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞

### –°–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª main.cpp —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –≤—Å–µ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤. WebManager –∏ TelegramManager –ø–æ–ª—É—á–∞—é—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ SensorManager —á—Ç–æ–±—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—É—â–∏–º –ø–æ–∫–∞–∑–∞–Ω–∏—è–º. SensorManager –ø–æ–ª—É—á–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ WeatherManager –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–ª–∏—á–Ω–æ–π –ø–æ–≥–æ–¥—ã –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–≤–µ—Ç–æ–≤.

---

## üìÑ –û–ü–ò–°–ê–ù–ò–ï –ú–û–î–£–õ–ï–ô

---

### 1Ô∏è‚É£ Settings.h ‚Äî –¶–µ–Ω—Ç—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

**–ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –î–∞—Ç—á–∏–∫ DHT22 –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ GPIO –ø–∏–Ω—É 14
- OLED –¥–∏—Å–ø–ª–µ–π –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 128x64 –ø–∏–∫—Å–µ–ª–µ–π –∏ –ø–æ–¥–∫–ª—é—á—ë–Ω –ø–æ I2C –Ω–∞ –∞–¥—Ä–µ—Å 0x3C
- I2C –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∏–Ω—ã: SDA –Ω–∞ GPIO 21, SCL –Ω–∞ GPIO 22

**Telegram:**
- –•—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ—Ç @BotFather)
- –•—Ä–∞–Ω–∏—Ç Chat ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏:**
- –ò–º—è –∏ –ø–∞—Ä–æ–ª—å –¥–æ–º–∞—à–Ω–µ–π Wi-Fi —Å–µ—Ç–∏
- –ê–¥—Ä–µ—Å NTP-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
- –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: UTC+1 (–ì–µ—Ä–º–∞–Ω–∏—è) —Å —É—á—ë—Ç–æ–º –ª–µ—Ç–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

**–õ–æ–≥–∏–∫–∞ –¥–∞—Ç—á–∏–∫–æ–≤:**
- –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏: 500 –∑–∞–ø–∏—Å–µ–π (—Ö–≤–∞—Ç–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 18-25 —á–∞—Å–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
- –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã: –º–∏–Ω—É—Å 2 –≥—Ä–∞–¥—É—Å–∞ –æ—Ç —Å—ã—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏: –ø–ª—é—Å 10.9% –∫ —Å—ã—Ä–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Å–∫–∞—á–æ–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –º–µ–∂–¥—É —á—Ç–µ–Ω–∏—è–º–∏: 2 –≥—Ä–∞–¥—É—Å–∞ (–±–æ–ª—å—à–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–Ω–æ–º–∞–ª–∏–µ–π)
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è EMA: 0.2 (80% —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, 20% –Ω–æ–≤–æ–µ)

**–ü–æ—Ä–æ–≥–∏ –¥–ª—è —Å–æ–≤–µ—Ç–æ–≤:**
- –í–ª–∞–∂–Ω–æ—Å—Ç—å –≤—ã—à–µ 60% —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π (—Ä–∏—Å–∫)
- –í–ª–∞–∂–Ω–æ—Å—Ç—å –Ω–∏–∂–µ 40% —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∏–∑–∫–æ–π (—Å—É—Ö–æ)
- –ü–∞–¥–µ–Ω–∏–µ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –±–æ–ª–µ–µ 2% –∑–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–∑–Ω–∞—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ

**–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º:**
- –î–∏—Å–ø–ª–µ–π –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è —Å 22:00 –¥–æ 09:00 –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏ –∏ —á—Ç–æ–±—ã –Ω–µ —Å–≤–µ—Ç–∏—Ç—å –Ω–æ—á—å—é

**–ü–æ–≥–æ–¥–Ω—ã–π API:**
- URL –∑–∞–ø—Ä–æ—Å–∞ –∫ open-meteo.com —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –≥–æ—Ä–æ–¥–∞ Weiden in der Oberpfalz (–ì–µ—Ä–º–∞–Ω–∏—è)

---

### 2Ô∏è‚É£ ClimateMath.h ‚Äî –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ–æ—Ä–º—É–ª—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

**–†–∞—Å—á—ë—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏:**
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—É—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞–º–º–æ–≤ –≤–æ–¥—ã –Ω–∞ –∫—É–±–∏—á–µ—Å–∫–∏–π –º–µ—Ç—Ä –≤–æ–∑–¥—É—Ö–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤–ª–∞–∂–Ω–æ—Å—Ç—å –¥–æ–º–∞ –∏ –Ω–∞ —É–ª–∏—Ü–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —É–ª–∏—Ü–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 80% –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ 5¬∞C, –Ω–æ –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –≤–µ–ª–∏—á–∏–Ω–∞—Ö —ç—Ç–æ –º–µ–Ω—å—à–µ —á–µ–º 50% –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ 22¬∞C –¥–æ–º–∞.

**–†–∞—Å—á—ë—Ç —Ç–æ—á–∫–∏ —Ä–æ—Å—ã:**
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—É—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—á–Ω—ë—Ç—Å—è –∫–æ–Ω–¥–µ–Ω—Å–∞—Ü–∏—è –≤–æ–¥—ã –∏–∑ –≤–æ–∑–¥—É—Ö–∞. –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π —Å—Ç–µ–Ω—ã –∏ —Ç–æ—á–∫–æ–π —Ä–æ—Å—ã –º–µ–Ω—å—à–µ 3 –≥—Ä–∞–¥—É—Å–æ–≤ ‚Äî –µ—Å—Ç—å —Ä–∏—Å–∫ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–∞ –∏ –ø–ª–µ—Å–µ–Ω–∏.

---

### 3Ô∏è‚É£ main.cpp ‚Äî –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

–≠—Ç–æ—Ç —Ñ–∞–π–ª —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–æ–º —Å–∏—Å—Ç–µ–º—ã –∏ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π.

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—è—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤: SensorManager (–¥–∞—Ç—á–∏–∫–∏), DisplayManager (—ç–∫—Ä–∞–Ω), WebManager (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä), WeatherManager (–ø–æ–≥–æ–¥–∞), TelegramManager (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è). WebManager –∏ TelegramManager –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—É—á–∞—é—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ SensorManager.

#### –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤—è–∑–∏

–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥. –ï—Å–ª–∏ Wi-Fi –ø–æ—Ç–µ—Ä—è–Ω ‚Äî –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ï—Å–ª–∏ Wi-Fi –≤ –ø–æ—Ä—è–¥–∫–µ ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ª–∏ –≤—Ä–µ–º—è, –∏ –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å NTP-—Å–µ—Ä–≤–µ—Ä–æ–º.

#### –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—É—é —Å—Ç—Ä–æ–∫—É —Å –ø—Ä–∏—á–∏–Ω–æ–π –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ ESP32. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±—ã–ª–æ –ª–∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è, –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —Å–±—Ä–æ—Å, –∫—Ä–∞—à —è–¥—Ä–∞, —Å—Ä–∞–±–æ—Ç–∫–∞ watchdog, –ø—Ä–æ—Å–∞–¥–∫–∞ –ø–∏—Ç–∞–Ω–∏—è (brownout) –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–∏—á–∏–Ω—ã.

#### –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (setup)

**–®–∞–≥ 1: –≠–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ.** –ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å–Ω–∏–∂–∞–µ—Ç—Å—è —Å 240 –ú–ì—Ü –¥–æ 80 –ú–ì—Ü. –≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –Ω–∞–≥—Ä–µ–≤ –∏ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ.

**–®–∞–≥ 2: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç.** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ 115200 –±–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

**–®–∞–≥ 3: –î–∏—Å–ø–ª–µ–π.** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è OLED —ç–∫—Ä–∞–Ω –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "CONNECTING..." —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.

**–®–∞–≥ 4: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Wi-Fi.** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–∂–∏–º –∫–ª–∏–µ–Ω—Ç–∞ –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏. –û–∂–∏–¥–∞–Ω–∏–µ –¥–æ 10 —Å–µ–∫—É–Ω–¥ (20 –ø–æ–ø—ã—Ç–æ–∫ –ø–æ 500 –º—Å). –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.

**–®–∞–≥ 5: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏.** –ï—Å–ª–∏ Wi-Fi –ø–æ–¥–∫–ª—é—á—ë–Ω, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è —Å NTP-—Å–µ—Ä–≤–µ—Ä–∞. –û–∂–∏–¥–∞–Ω–∏–µ –¥–æ 5 —Å–µ–∫—É–Ω–¥. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—Ä–µ–º—è –≤–∞–∂–Ω–æ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –≤ –∏—Å—Ç–æ—Ä–∏–∏.

**–®–∞–≥ 6: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã.** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ –ø–æ–≥–æ–¥–Ω–æ–º—É API. –î–æ 5 –ø–æ–ø—ã—Ç–æ–∫ –µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ —É–¥–∞–ª—Å—è.

**–®–∞–≥ 7: –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª–µ–π.** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –¥–∞—Ç—á–∏–∫ DHT22 –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ FreeRTOS –¥–ª—è –µ–≥–æ —á—Ç–µ–Ω–∏—è –Ω–∞ —è–¥—Ä–µ 1. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 80. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è Telegram-–±–æ—Ç.

**–®–∞–≥ 8: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø—É—Å–∫–µ.** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram –æ —Ç–æ–º —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å, —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∏ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ—à–∏–≤–∫–∏.

**–®–∞–≥ 9: –ü–µ—Ä–≤—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è.** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

#### –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª (loop)

–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ (—Ñ—É–Ω–∫—Ü–∏—è ensureConnectivity).

**–ü–æ—Å—Ç–æ—è–Ω–Ω–æ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ Telegram-—Å–æ–æ–±—â–µ–Ω–∏–π. –í–Ω—É—Ç—Ä–∏ TelegramManager.update() –µ—Å—Ç—å —Å–≤–æ–π —Ç–∞–π–º–µ—Ä –Ω–∞ 1.5 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏.

**–ü–æ—Å—Ç–æ—è–Ω–Ω–æ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–∞—Ç—á–∏–∫–æ–≤. –°–∞–º–æ —á—Ç–µ–Ω–∏–µ DHT22 –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ –∫–∞–∂–¥—ã–µ 6 —Å–µ–∫—É–Ω–¥. –ó–¥–µ—Å—å –∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–∏ –∏–ª–∏ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ) –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ —Å–æ–≤–µ—Ç–æ–≤.

**–ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–≥–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ WeatherManager.update().

**–ö–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ OLED –¥–∏—Å–ø–ª–µ–µ. –†–µ–∂–µ –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ —Ç–∞–∫ –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã –∏ —Ç–∞–∫, —á–∞—â–µ ‚Äî –ª–∏—à–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ I2C —à–∏–Ω—É.

**–í –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:** –ü–∞—É–∑–∞ –Ω–∞ 1 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—É. –≠—Ç–æ –¥–∞—ë—Ç –≤—Ä–µ–º—è —Å–∏—Å—Ç–µ–º–Ω—ã–º –∑–∞–¥–∞—á–∞–º ESP32 (Wi-Fi, watchdog) –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ—é —Ä–∞–±–æ—Ç—É –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è.

---

### 4Ô∏è‚É£ SensorManager ‚Äî –°–µ—Ä–¥—Ü–µ —Å–∏—Å—Ç–µ–º—ã

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—Å—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç—á–∏–∫–æ–º –∏ –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑.

#### –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏** —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∏ –ø–æ–ª—è: Unix-timestamp (—Å–µ–∫—É–Ω–¥—ã —Å 1970 –≥–æ–¥–∞), —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å.

**–°–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∏–º–∞—Ç–∞** ‚Äî —á–µ—Ç—ã—Ä–µ —É–º–Ω—ã—Ö —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
- STABLE ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- VENTILATING ‚Äî –∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ (—Å—É—à–∫–∞)
- TARGET_MET ‚Äî —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ (50% –≤–ª–∞–∂–Ω–æ—Å—Ç–∏)
- INEFFICIENT ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è —É–ø–∞–ª–∞ (–≤–ª–∞–≥–∞ –±–æ–ª—å—à–µ –Ω–µ —É—Ö–æ–¥–∏—Ç)

#### –•—Ä–∞–Ω–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ

–ú–æ–¥—É–ª—å —Ö—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, —Ç–æ—á–∫–∞ —Ä–æ—Å—ã), —Å—Ä–µ–¥–Ω—é—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å –∑–∞ 24 —á–∞—Å–∞, –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–∞–ª–∏–¥–Ω—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–Ω–æ–º–∞–ª–∏–π, –±–∞–∑–æ–≤—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞, —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π, –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞ –≤ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞ 500 –∑–∞–ø–∏—Å–µ–π, –∫—ç—à —Å–æ–≤–µ—Ç–æ–≤ —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –∏ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–≥–æ–¥—ã.

#### –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–°–æ–∑–¥–∞—ë—Ç—Å—è –º—å—é—Ç–µ–∫—Å –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á. –§—É–Ω–∫—Ü–∏–∏ lock() –∏ unlock() –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç –º—å—é—Ç–µ–∫—Å —Å —Ç–∞–π–º–∞—É—Ç–æ–º 500 –º—Å —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–Ω—É—Ç—å –Ω–∞–≤–µ—á–Ω–æ.

#### –ó–∞–¥–∞—á–∞ —á—Ç–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞ (Core 1)

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ begin() –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ FreeRTOS –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —è–¥—Ä–µ 1. –≠—Ç–∞ –∑–∞–¥–∞—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ —Å —Ç–æ—á–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 6 —Å–µ–∫—É–Ω–¥. –ù–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–Ω–∞ —á–∏—Ç–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å —Å –¥–∞—Ç—á–∏–∫–∞ DHT22 (—ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –æ–∫–æ–ª–æ 250 –º—Å), –∑–∞—Ç–µ–º –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã ‚Äî –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º—å—é—Ç–µ–∫—Å, –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–∫–∞–∑–∞–Ω–∏–π –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º—å—é—Ç–µ–∫—Å. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç watchdog –µ—Å–ª–∏ –æ–Ω –∞–∫—Ç–∏–≤–µ–Ω –∏ –∂–¥—ë—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ vTaskDelayUntil –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª –±—É–¥–µ—Ç —Ä–æ–≤–Ω–æ 6 —Å–µ–∫—É–Ω–¥ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

#### –§—É–Ω–∫—Ü–∏—è update (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞)

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: 30 —Å–µ–∫—É–Ω–¥ –µ—Å–ª–∏ –∏–¥—ë—Ç –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ, 3 –º–∏–Ω—É—Ç—ã –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ. –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º—å—é—Ç–µ–∫—Å –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ—à–ª–æ –ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–ø–∏—Å–∏. –ï—Å–ª–∏ –¥–∞ ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é. –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫—ç—à —Å–æ–≤–µ—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã.

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π –∏ –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞:** –ö —Å—ã—Ä–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–º–µ—â–µ–Ω–∏–µ –º–∏–Ω—É—Å 2 –≥—Ä–∞–¥—É—Å–∞, –∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –ø–ª—é—Å 10.9%. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º 0-100% —Ñ—É–Ω–∫—Ü–∏–µ–π `constrain()` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π:** –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–∞–ª–∏–¥–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –±–æ–ª—å—à–µ 2 –≥—Ä–∞–¥—É—Å–æ–≤ ‚Äî –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–µ–¥—ã–¥—É—â–µ–µ. –ò–Ω–∞—á–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è EMA-—Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ: 80% –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–ª—é—Å 20% –æ—Ç –Ω–æ–≤–æ–≥–æ.

**–†–∞—Å—á—ë—Ç —Ç–æ—á–∫–∏ —Ä–æ—Å—ã:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∞ –∏–∑ ClimateMath –¥–ª—è —Ç–µ–∫—É—â–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏.

**–ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π (Smart State Machine v5.2):**

–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Ü–µ–ª—å—é, —Å–∫–æ–ª—å–∑—è—â–∏–º –æ–∫–Ω–æ–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–ª–∞—Ç–æ –∏ —É–º–Ω—ã–º –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–º –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞.

**–ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
- **processReading()** ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 6 —Å–µ–∫—É–Ω–¥ —Å –∂–∏–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç—á–∏–∫–∞. –ó–¥–µ—Å—å —Ä–∞–±–æ—Ç–∞–µ—Ç rebound detection –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–µ–π.
- **update()** ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ main loop, –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫ (–ø—Ä–∏ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–∏) –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∏—Å—Ç–æ—Ä–∏—é history[] –∏ –≤ slopeWindow[] –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–ª–∞—Ç–æ.

**slopeWindow[] ‚Äî –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ –¥–ª—è –ø–ª–∞—Ç–æ:**
–ö–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä –∏–∑ 6 –∑–Ω–∞—á–µ–Ω–∏–π AbsHum. –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –∏—Å—Ç–æ—Ä–∏–µ–π. –ü–æ–∫—Ä—ã–≤–∞–µ—Ç 3 –º–∏–Ω—É—Ç—ã –¥–∞–Ω–Ω—ã—Ö (6 √ó 30 —Å–µ–∫). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å—Ä–µ–¥–Ω—ë–Ω–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–∞–¥–µ–Ω–∏—è –≤–ª–∞–∂–Ω–æ—Å—Ç–∏.

*–í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ STABLE:* –°–∏—Å—Ç–µ–º–∞ —Å–ª–µ–¥–∏—Ç –∑–∞ —Ä–µ–∑–∫–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏. –ï—Å–ª–∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å —É–ø–∞–ª–∞ –Ω–∞ 3% –∏–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞ 0.5¬∞C ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ VENTILATING. –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è "–±–∞–∑–æ–≤–∞—è" –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –∏ –Ω–∞—á–∞–ª—å–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Ü–µ–ª–∏. –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ VENTILATING —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —Å—á—ë—Ç—á–∏–∫–∏ –ø–ª–∞—Ç–æ –∏ rebound. Baseline –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ –∫–∞–∂–¥—ã–µ 50 —á—Ç–µ–Ω–∏–π (~5 –º–∏–Ω—É—Ç –ø—Ä–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ 6 —Å–µ–∫—É–Ω–¥).

*–í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ VENTILATING:* 
- **–£—Å–ø–µ—Ö (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã—à–µ –ø–ª–∞—Ç–æ):** –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ü–µ–ª—å = `max(50%, startHum - 15%)`. –ü—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ 70% —Ü–µ–ª—å –±—É–¥–µ—Ç 55%, –ø—Ä–∏ 60% ‚Äî 50%. –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ TARGET_MET.
- **–ü–ª–∞—Ç–æ v2.0:** –ü–æ—Å–ª–µ 3 –º–∏–Ω—É—Ç –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è slope –∫–∞–∫ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–∞–º—ã–º –Ω–æ–≤—ã–º –∏ —Å–∞–º—ã–º —Å—Ç–∞—Ä—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –≤ slopeWindow[]. –ï—Å–ª–∏ slope > -0.15 –≥/–º¬≥ –∑–∞ 3 –º–∏–Ω—É—Ç—ã (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–∞—è —Å—É—à–∫–∞) ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å—á—ë—Ç—á–∏–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ü–æ—Å–ª–µ 15 –ø–æ–¥—Ä—è–¥ —Ç–∞–∫–∏—Ö —á—Ç–µ–Ω–∏–π (~90 —Å–µ–∫) ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ INEFFICIENT.
- **Rebound Detection v2.0:** –í–º–µ—Å—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞ (+0.3¬∞C) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ï—Å–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Ç–∏ ‚Äî –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –º–æ–º–µ–Ω—Ç —Å—Ç–∞—Ä—Ç–∞. –ï—Å–ª–∏ —Ä–æ—Å—Ç —Å–æ—Å—Ç–∞–≤–∏–ª +0.15¬∞C –∑–∞ 2 –º–∏–Ω—É—Ç—ã ‚Äî –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ, –≤–æ–∑–≤—Ä–∞—Ç –≤ STABLE. –ï—Å—Ç—å fallback –Ω–∞ —Ä–æ—Å—Ç AbsHum +0.3 –≥/–º¬≥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—á–µ–≤–∏–¥–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.

*–í —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö TARGET_MET –∏ INEFFICIENT:* –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ (–ø–æ rebound detection) –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç 1 —á–∞—Å. –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –æ–∫–Ω–∞ ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –≤ STABLE.

#### –ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ (STABLE ‚Üí VENTILATING):**
–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–ø–∏—Å—å—é –≤ history[]. –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ > 3% –∏–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —É–ø–∞–ª–∞ –Ω–∞ > 0.5¬∞C ‚Äî –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ.

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ (Rebound Detection v2.0):**
–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è —Ç—Ä–µ–Ω–¥ —Ä–æ—Å—Ç–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ +0.05¬∞C –Ω–∞–¥ –æ–ø–æ—Ä–Ω–æ–π —Ç–æ—á–∫–æ–π –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –º–æ–º–µ–Ω—Ç. –ï—Å–ª–∏ —Ä–æ—Å—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –∏ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç +0.15¬∞C –∑–∞ 2 –º–∏–Ω—É—Ç—ã ‚Äî –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ. Fallback: —Ä–æ—Å—Ç AbsHum –Ω–∞ +0.3 –≥/–º¬≥.

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–æ (Plateau v2.0):**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç slopeWindow[] –∏–∑ 6 —Ç–æ—á–µ–∫ –∑–∞ 3 –º–∏–Ω—É—Ç—ã. Slope = newest - oldest. –ï—Å–ª–∏ slope > -0.15 –≥/–º¬≥ (–ø–æ—á—Ç–∏ –Ω–µ—Ç –ø–∞–¥–µ–Ω–∏—è) –≤ —Ç–µ—á–µ–Ω–∏–µ 90 —Å–µ–∫—É–Ω–¥ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ INEFFICIENT. –ù–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤ –ø–µ—Ä–≤—ã–µ 3 –º–∏–Ω—É—Ç—ã –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è.

---

### 5Ô∏è‚É£ DisplayManager ‚Äî OLED —ç–∫—Ä–∞–Ω

–ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç 128x64 OLED –¥–∏—Å–ø–ª–µ–µ–º –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–º –ø–æ I2C.

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç I2C —à–∏–Ω—É –Ω–∞ –ø–∏–Ω–∞—Ö 21 –∏ 22 —Å —Ç–∞–π–º–∞—É—Ç–æ–º 200 –º—Å —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∑–∞–≤–∏—Å–∞–Ω–∏–µ –µ—Å–ª–∏ –¥–∏—Å–ø–ª–µ–π –æ—Ç–∫–ª—é—á–∏—Ç—Å—è. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥—Ä–∞–π–≤–µ—Ä –¥–∏—Å–ø–ª–µ—è SSD1306 –∏ –æ—á–∏—â–∞–µ—Ç —ç–∫—Ä–∞–Ω.

#### –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–π —á–∞—Å. –ï—Å–ª–∏ –≤—Ä–µ–º—è –º–µ–∂–¥—É 22:00 –∏ 09:00 ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–∏–Ω—É. –í –Ω–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —ç–∫—Ä–∞–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã–º.

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞

–ï—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º ‚Äî –ø—Ä–æ—Å—Ç–æ –æ—á–∏—â–∞–µ—Ç —ç–∫—Ä–∞–Ω –∏ –≤—ã—Ö–æ–¥–∏—Ç.

**–ó–∞–≥–æ–ª–æ–≤–æ–∫** (–≤–µ—Ä—Ö–Ω—è—è —Å—Ç—Ä–æ–∫–∞): –ù–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ "ACM-1" –∏ —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å. –°—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –∫–æ–¥—É —Å–æ–≤–µ—Ç–∞: CRITICAL –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π, VENTILATE –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è, OPTIMAL –∫–æ–≥–¥–∞ –≤—Å—ë —Ö–æ—Ä–æ—à–æ, NORMAL –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö. –ï—Å–ª–∏ –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è ‚Äî –Ω–∞–¥–ø–∏—Å—å "DRYING...", –µ—Å–ª–∏ –≤ –ø–ª–∞—Ç–æ ‚Äî "PLATEAU".

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è** (–∫—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç): –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å–ª–µ–≤–∞ —Å –æ–¥–Ω–∏–º –∑–Ω–∞–∫–æ–º –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π –∏ –µ–¥–∏–Ω–∏—Ü–µ–π C. –í–ª–∞–∂–Ω–æ—Å—Ç—å —Å–ø—Ä–∞–≤–∞ –±–µ–∑ –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç–∏ –∏ –∑–Ω–∞–∫–æ–º %.

**–ù–∏–∂–Ω—è—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** (–º–µ–ª–∫–∏–π —à—Ä–∏—Ñ—Ç): –¢–æ—á–∫–∞ —Ä–æ—Å—ã —Å –º–µ—Ç–∫–æ–π DP. –ù–∞ —Å–∞–º–æ–π –Ω–∏–∂–Ω–µ–π —Å—Ç—Ä–æ–∫–µ ‚Äî IP –∞–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

---

### 6Ô∏è‚É£ WeatherManager ‚Äî –ü–æ–≥–æ–¥–Ω—ã–π API

–ú–æ–¥—É–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–≥–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ API open-meteo.com.

#### –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç –∏–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ. –ü–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi.

#### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞

–°–æ–∑–¥–∞—ë—Ç—Å—è HTTP-–∫–ª–∏–µ–Ω—Ç —Å —Ç–∞–π–º–∞—É—Ç–æ–º 2 —Å–µ–∫—É–Ω–¥—ã —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞–¥–æ–ª–≥–æ. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è GET –∑–∞–ø—Ä–æ—Å –Ω–∞ URL –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫. –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ—Ç–≤–µ—Ç–µ (–∫–æ–¥ 200) –ø–∞—Ä—Å–∏—Ç—Å—è JSON. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä —á—Ç–æ–±—ã –∏–∑–≤–ª–µ—á—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å. –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç API –¥–æ–≤–æ–ª—å–Ω–æ –±–æ–ª—å—à–æ–π. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –≤–∞–ª–∏–¥–Ω—ã–µ.

–ü—Ä–∏ –æ—à–∏–±–∫–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

#### –†–∞—Å—á—ë—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏

–í—ã–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É–ª—É –∏–∑ ClimateMath –¥–ª—è —É–ª–∏—á–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç SensorManager —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤–ª–∞–∂–Ω–æ—Å—Ç—å –¥–æ–º–∞ –∏ –Ω–∞ —É–ª–∏—Ü–µ –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –≤–µ–ª–∏—á–∏–Ω–∞—Ö.

#### –û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª–æ–≤–∏–π

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–≥–æ–¥—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º: "–ú–æ—Ä–æ–∑" –µ—Å–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∏–∂–µ 0, "–í–ª–∞–∂–Ω–æ (–£–ª–∏—Ü–∞)" –µ—Å–ª–∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤—ã—à–µ 85%, "–ù–æ—Ä–º–∞ (–£–ª–∏—Ü–∞)" –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö" –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã.

---

### 7Ô∏è‚É£ TelegramManager ‚Äî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ú–æ–¥—É–ª—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—é—é —Å–≤—è–∑—å —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞.

#### –•—Ä–∞–Ω–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ ‚Äî –∫–∞–∂–¥—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç Chat ID, —Ñ–ª–∞–≥ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –§–ª–∞–≥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤ –æ –ø–ª–µ—Å–µ–Ω–∏ –∏ —Ç–∞–π–º–∞—É—Ç–µ —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å.

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–°–æ–∑–¥–∞—ë—Ç—Å—è HTTPS-–∫–ª–∏–µ–Ω—Ç –≤ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ä–µ–∂–∏–º–µ (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã). –°–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç –±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–æ–º –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫. –í–ª–∞–¥–µ–ª–µ—Ü –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–≤—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º —á—Ç–æ –±–æ—Ç –æ–Ω–ª–∞–π–Ω.

#### –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** (–∫–∞–∂–¥—ã–µ 1.5 —Å–µ–∫—É–Ω–¥—ã): –ó–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å Telegram —Å–µ—Ä–≤–µ—Ä–æ–≤. –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è.

**–ê–ª–µ—Ä—Ç TARGET_MET:** "‚úÖ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ (50%)..." ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏—à–ª–∞ –≤ –Ω–æ—Ä–º—É.

**–ê–ª–µ—Ä—Ç INEFFICIENT:** "‚ö†Ô∏è –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É–ø–∞–ª–∞..." ‚Äî –≤–ª–∞–≥–∞ –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ —É—Ö–æ–¥–∏—Ç—å, –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –¥–µ—Ä–∂–∞—Ç—å –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã–º.

**–ê–ª–µ—Ä—Ç —Ç–∞–π–º–∞—É—Ç–∞** (20 –º–∏–Ω—É—Ç –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è): –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ –¥–ª–∏—Ç—Å—è –±–æ–ª–µ–µ 20 –º–∏–Ω—É—Ç –∏ –∞–ª–µ—Ä—Ç –µ—â—ë –Ω–µ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ø–µ—Ä–µ–æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è.

**–ê–ª–µ—Ä—Ç —Ä–∏—Å–∫–∞ –ø–ª–µ—Å–µ–Ω–∏:** –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –∏ —Ç–æ—á–∫–æ–π —Ä–æ—Å—ã –º–µ–Ω—å—à–µ 3 –≥—Ä–∞–¥—É—Å–æ–≤ –∏ –∞–ª–µ—Ä—Ç –µ—â—ë –Ω–µ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –§–ª–∞–≥ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ä–∞–∑–Ω–∏—Ü–∞ —Å—Ç–∞–Ω–µ—Ç –±–æ–ª—å—à–µ 3.5 –≥—Ä–∞–¥—É—Å–æ–≤ (–≥–∏—Å—Ç–µ—Ä–µ–∑–∏—Å 0.5 –≥—Ä–∞–¥—É—Å–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–∏–≥–∞–Ω–∏–µ).

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥

–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏.

**/start:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏.

**üå°Ô∏è –°—Ç–∞—Ç—É—Å:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è ‚Äî —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å –¥–æ–º–∞, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –Ω–∞ —É–ª–∏—Ü–µ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å, —Ç–µ–∫—É—â–∏–π —Å–æ–≤–µ—Ç —Å–∏—Å—Ç–µ–º—ã. –ò–∫–æ–Ω–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–¥–∞ —Å–æ–≤–µ—Ç–∞: –≥–∞–ª–æ—á–∫–∞ –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ, –∫—Ä–∞—Å–Ω—ã–π –∫—Ä—É–≥ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ, –∂—ë–ª—Ç—ã–π –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

**üîá/üîä –ó–≤—É–∫:** –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ï—Å–ª–∏ –±—ã–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã ‚Äî –≤—ã–∫–ª—é—á–∞–µ—Ç –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

**üîó –í–µ–±-–ø–∞–Ω–µ–ª—å:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç inline-–∫–Ω–æ–ø–∫—É —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ —Ç–µ–∫—É—â–µ–º—É IP –∞–¥—Ä–µ—Å—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

#### –†–∞—Å—Å—ã–ª–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤

–ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–µ–º —É –∫–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–∫–ª—é—á–µ–Ω—ã.

---

### 8Ô∏è‚É£ WebManager ‚Äî HTTP API –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HTTP API –∏ –∫—Ä–∞—Å–∏–≤—ã–π –≤–µ–±-–¥–∞—à–±–æ—Ä–¥.

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä ESPAsyncWebServer –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª. –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É 80.

#### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

–ü–æ –∑–∞–ø—Ä–æ—Å—É –∫–æ—Ä–Ω–µ–≤–æ–≥–æ URL –æ—Ç–¥–∞—ë—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º ACM-1, –±–ª–æ–∫–æ–º —Å–æ–≤–µ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã, –∫—Ä—É–ø–Ω—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—á–∫–∏ —Ä–æ—Å—ã, –¥–≤—É–º—è –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏—Å—Ç–æ—Ä–∏–∏ (–≤–ª–∞–∂–Ω–æ—Å—Ç—å –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞), –∏ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–π—Å—è —Å–µ–∫—Ü–∏–µ–π —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –ø–æ–≥–æ–¥–æ–π.

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Chart.js –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –ø–æ–∫–∞–∑–∞–Ω–∏—è –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã, –≥—Ä–∞—Ñ–∏–∫–∏ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥. –°—Ç–∏–ª–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

#### API —Å—Ç–∞—Ç—É—Å–∞ (–ª—ë–≥–∫–∏–π)

–ü—É—Ç—å: /api/status. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å —Ç–µ–∫—É—â–∏–º–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º–∏, —Å–æ–≤–µ—Ç–æ–º –∏ –∫–æ–¥–æ–º, –∞ —Ç–∞–∫–∂–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤–∫–ª—é—á–∞—è —Å—Ä–µ–¥–Ω—é—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –∞–±—Å–æ–ª—é—Ç–Ω—É—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å –¥–æ–º–∞, —Å—Ç–∞—Ç—É—Å –ø–æ–≥–æ–¥—ã, —É–ª–∏—á–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã.

#### API –∏—Å—Ç–æ—Ä–∏–∏ (—Ç—è–∂—ë–ª—ã–π, –ø–æ—Ç–æ–∫–æ–≤—ã–π)

–ü—É—Ç—å: /api/history. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –º–∞—Å—Å–∏–≤ —Å–æ –≤—Å–µ–º–∏ –∑–∞–ø–∏—Å—è–º–∏ –∏—Å—Ç–æ—Ä–∏–∏. –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, –≤–ª–∞–∂–Ω–æ—Å—Ç—å –∏ Unix-timestamp.

–î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è watchdog –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–≤–∞—è (chunked) –æ—Ç–ø—Ä–∞–≤–∫–∞. –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–∞–∫–µ—Ç–∞–º–∏ –ø–æ 32 –∑–∞–ø–∏—Å–∏. –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –ø–∞–∫–µ—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–∞—É–∑–∞ –≤ 1 –º—Å –¥–ª—è watchdog. –î–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑ –±—É—Ñ–µ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å –∑–∞—Ö–≤–∞—Ç–æ–º –º—å—é—Ç–µ–∫—Å–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—Ä–µ–º—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ü–∏–∏. –ü–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è JSON –¥–ª—è —ç—Ç–æ–π –ø–æ—Ä—Ü–∏–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞ –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (`snprintf`) ‚Äî –µ—Å–ª–∏ –±—É—Ñ–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω, —Ü–∏–∫–ª –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —á–∞–Ω–∫–µ.

–ê–ª–≥–æ—Ä–∏—Ç–º:
1. –ü–µ—Ä–≤—ã–π —á–∞–Ω–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç JSON –º–∞—Å—Å–∏–≤ –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–π —Å–∫–æ–±–∫–æ–π
2. –ö–∞–∂–¥–∞—è –ø–æ—Ä—Ü–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–æ 32 –∑–∞–ø–∏—Å–µ–π –Ω–∞—á–∏–Ω–∞—è —Å —Ç–µ–∫—É—â–µ–≥–æ —Å–º–µ—â–µ–Ω–∏—è
3. –ó–∞–ø–∏—Å–∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ JSON —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏-–∑–∞–ø—è—Ç—ã–º–∏
4. –ö–æ–≥–¥–∞ –∑–∞–ø–∏—Å–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞ –∏ –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ 500 –∑–∞–ø–∏—Å–µ–π –Ω–µ –≤—ã–¥–µ–ª—è—è –±–æ–ª—å—à–æ–π –±—É—Ñ–µ—Ä –≤ –ø–∞–º—è—Ç–∏.

---

## üîÑ –ü–û–¢–û–ö–ò –ò –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —è–¥—Ä–∞–º ESP32

**–Ø–¥—Ä–æ 0 (Protocol Core):** Wi-Fi —Å—Ç–µ–∫, TCP/IP, Telegram HTTP –∑–∞–ø—Ä–æ—Å—ã, NTP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–¥–∞—á–∏.

**–Ø–¥—Ä–æ 1 (Application Core):** –ó–∞–¥–∞—á–∞ —á—Ç–µ–Ω–∏—è DHT22 (sensorTask), –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-–∑–∞–ø—Ä–æ—Å–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è, –æ—Å–Ω–æ–≤–Ω–æ–π loop().

### –ó–∞—â–∏—Ç–∞ –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ú—å—é—Ç–µ–∫—Å dataMutex –∑–∞—â–∏—â–∞–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ SensorManager: —Ç–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è, –±—É—Ñ–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏, –∫—ç—à —Å–æ–≤–µ—Ç–æ–≤.

**–ü—Ä–∞–≤–∏–ª–æ —á—Ç–µ–Ω–∏—è:** –ó–∞—Ö–≤–∞—Ç–∏—Ç—å –º—å—é—Ç–µ–∫—Å, —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º—å—é—Ç–µ–∫—Å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ø–∏—é.

**–ü—Ä–∞–≤–∏–ª–æ –∑–∞–ø–∏—Å–∏:** –ó–∞—Ö–≤–∞—Ç–∏—Ç—å –º—å—é—Ç–µ–∫—Å, –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º—å—é—Ç–µ–∫—Å.

**–¢–∞–π–º–∞—É—Ç:** –í—Å–µ –∑–∞—Ö–≤–∞—Ç—ã –º—å—é—Ç–µ–∫—Å–∞ –∏–º–µ—é—Ç —Ç–∞–π–º–∞—É—Ç 100-500 –º—Å —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–Ω—É—Ç—å –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å:** –ë—É—Ñ–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–¥–µ–ª–µ–Ω —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å—Å–∏–≤–æ–º –Ω–∞ 500 —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ loop() –∑–∞–ø—Ä–µ—â–µ–Ω–æ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏.

**–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –¥–∞—Ç—á–∏–∫–∞:** –í—Å–µ —Å—ã—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è DHT22 –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –∏–∑ Settings.h. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∑–∞–Ω–∏–∂–∞–µ—Ç—Å—è –Ω–∞ 2 –≥—Ä–∞–¥—É—Å–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –Ω–∞ 10.9%. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π `constrain(0, 100)` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤—ã—à–µ 100%.

**–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π baseline:** –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 50 —á—Ç–µ–Ω–∏–π –¥–∞—Ç—á–∏–∫–∞ (~5 –º–∏–Ω—É—Ç). –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª.

**–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò–Ω—Ç–µ—Ä–≤–∞–ª –∑–∞–ø–∏—Å–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è: 30 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–∏ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞, 3 –º–∏–Ω—É—Ç—ã –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞.

**Watchdog:** –í—Å–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–∞—É–∑—ã –º–∏–Ω–∏–º—É–º 1 –º—Å –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ watchdog.

**–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º:** OLED –¥–∏—Å–ø–ª–µ–π –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è —Å 22:00 –¥–æ 09:00. OLED –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —ç–Ω–µ—Ä–≥–∏—é —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–∏–∫—Å–µ–ª–∏ —Å–≤–µ—Ç—è—Ç—Å—è, —Ç–∞–∫ —á—Ç–æ —á—ë—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç 0 –≤–∞—Ç—Ç.

**–ì–∏—Å—Ç–µ—Ä–µ–∑–∏—Å –∞–ª–µ—Ä—Ç–æ–≤:** Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∏—Å–∫–µ –ø–ª–µ—Å–µ–Ω–∏ –∏–º–µ—é—Ç –≥–∏—Å—Ç–µ—Ä–µ–∑–∏—Å 0.5 –≥—Ä–∞–¥—É—Å–∞ —á—Ç–æ–±—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –∫–æ–ª–µ–±–∞–Ω–∏—è—Ö –æ–∫–æ–ª–æ –ø–æ—Ä–æ–≥–∞.

**–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π slope-—Ä–∞—Å—á—ë—Ç:** –†–∞—Å—á—ë—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–∞–¥–µ–Ω–∏—è –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –≤–∞–ª–∏–¥–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–º–∏–Ω–∏–º—É–º 60 —Å–µ–∫—É–Ω–¥). –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã.

---

## üõ†Ô∏è –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- **Adafruit SSD1306** ‚Äî –¥—Ä–∞–π–≤–µ—Ä OLED –¥–∏—Å–ø–ª–µ—è
- **Adafruit GFX** ‚Äî –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã
- **DHT sensor library** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç—á–∏–∫–æ–º DHT22
- **Adafruit Unified Sensor** ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –¥–∞—Ç—á–∏–∫–æ–≤
- **ArduinoJson** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è JSON
- **ESPAsyncWebServer** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP —Å–µ—Ä–≤–µ—Ä
- **AsyncTCP** ‚Äî TCP –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **UniversalTelegramBot** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Telegram Bot API

---

## üìú –ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô (CHANGELOG)

> –í–µ—Ä—Å–∏–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç —Å–∞–º—ã—Ö –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º. –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: **v5.2**

---

### v5.2 (Smart Detection) ‚Äî 11 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–æ –∏ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞.**

#### –ê–ª–≥–æ—Ä–∏—Ç–º –ü–ª–∞—Ç–æ v2.0:
- **–°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ:** –ù–æ–≤—ã–π –±—É—Ñ–µ—Ä `slopeWindow[6]` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è 6 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π AbsHum. –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –∏—Å—Ç–æ—Ä–∏–µ–π. –ü–æ–∫—Ä—ã–≤–∞–µ—Ç 3 –º–∏–Ω—É—Ç—ã –¥–∞–Ω–Ω—ã—Ö.
- **–£—Å—Ä–µ–¥–Ω—ë–Ω–Ω—ã–π slope:** –†–∞—Å—á—ë—Ç slope –∫–∞–∫ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–∞–º—ã–º –Ω–æ–≤—ã–º –∏ —Å—Ç–∞—Ä—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –≤ –æ–∫–Ω–µ (–≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–π —Ç–æ—á–∫–∏).
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ 90 —Å–µ–∫:** –ü–ª–∞—Ç–æ –¥–æ–ª–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å—Å—è 15 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —á—Ç–µ–Ω–∏–π (~90 —Å–µ–∫) –ø—Ä–µ–∂–¥–µ —á–µ–º —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–π–¥—ë—Ç –≤ INEFFICIENT.
- **–ó–∞—â–∏—Ç–∞ –ø–µ—Ä–≤—ã—Ö 3 –º–∏–Ω—É—Ç:** –ê–ª–≥–æ—Ä–∏—Ç–º –ø–ª–∞—Ç–æ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤ –ø–µ—Ä–≤—ã–µ 3 –º–∏–Ω—É—Ç—ã –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π.

#### Rebound Detection v2.0:
- **–¢—Ä–µ–Ω–¥ –≤–º–µ—Å—Ç–æ –ø–æ—Ä–æ–≥–∞:** –í–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ +0.3¬∞C —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ç—Ä–µ–Ω–¥ —Ä–æ—Å—Ç–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–µ—Ç–µ–∫—Ç–æ—Ä:** –ü—Ä–∏ —Ä–æ—Å—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã +0.15¬∞C –∑–∞ 2 –º–∏–Ω—É—Ç—ã ‚Äî –æ–∫–Ω–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–∫—Ä—ã—Ç—ã–º.
- **Fallback:** –°–æ—Ö—Ä–∞–Ω—ë–Ω –±—ã—Å—Ç—Ä—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ AbsHum +0.3 –≥/–º¬≥ –¥–ª—è –æ—á–µ–≤–∏–¥–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.

#### –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ü–µ–ª—å –≤–ª–∞–∂–Ω–æ—Å—Ç–∏:
- **–§–æ—Ä–º—É–ª–∞:** `max(50%, startHum - 15%)`
- –ü—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ 70% ‚Üí —Ü–µ–ª—å 55%
- –ü—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ 60% ‚Üí —Ü–µ–ª—å 50%

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **–ì–æ–Ω–∫–∞ TARGET_MET/INEFFICIENT:** –î–æ–±–∞–≤–ª–µ–Ω `else if` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ TARGET_MET –Ω–∞ INEFFICIENT –≤ —Ç–æ–º –∂–µ —Ü–∏–∫–ª–µ.
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:** –í—Å–µ float-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`stateEnterAbsHum`, `lastAbsHum`, etc.) —Ç–µ–ø–µ—Ä—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ NAN –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ.
- **Static ‚Üí Member:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `baselineUpdateCounter` –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ static –≤ —á–ª–µ–Ω –∫–ª–∞—Å—Å–∞.
- **Wi-Fi –ø—Ä–æ–≤–µ—Ä–∫–∞:** TelegramManager —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –µ—Å–ª–∏ Wi-Fi –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤).
- **–õ–æ–∂–Ω–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ VENTILATING:** –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ STABLE –∏–∑ TARGET_MET/INEFFICIENT/VENTILATING —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è baseline —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–æ–∂–Ω–æ–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ "–Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è" –∫–æ–≥–¥–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–∞–¥–∞—Ç—å –ø–æ –∏–Ω–µ—Ä—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞.
- **Lockout –ø–µ—Ä–∏–æ–¥ 60 —Å–µ–∫:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ STABLE —Å–∏—Å—Ç–µ–º–∞ 60 —Å–µ–∫—É–Ω–¥ –Ω–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–µ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ. –≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –∏–∑-–∑–∞ —Ç–µ—Ä–º–∏—á–µ—Å–∫–æ–π –∏–Ω–µ—Ä—Ü–∏–∏ —Å—Ç–µ–Ω.
- **WeatherManager fix:** `setWeatherManager()` —Ç–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º Wi-Fi. –≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç "No Manager" –≤ –æ—Ç–ª–∞–¥–∫–µ –ø–æ–≥–æ–¥—ã.

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö:** slopeWindow[] –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ update() —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å history[], –∞ –Ω–µ –≤ processReading(). –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ (30 —Å–µ–∫).
- **Telegram polling 3 —Å–µ–∫:** –£–≤–µ–ª–∏—á–µ–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–æ—Å–∞ —Å 1.5 –¥–æ 3 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Wi-Fi –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏.
- **Yield –≤ main loop:** –î–æ–±–∞–≤–ª–µ–Ω `delay(1)` –≤ –∫–æ–Ω–µ—Ü loop() –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã–º –∑–∞–¥–∞—á–∞–º (Wi-Fi, watchdog).
- **StaticJsonDocument:** –í /api/status –∑–∞–º–µ–Ω—ë–Ω DynamicJsonDocument –Ω–∞ StaticJsonDocument<512> –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫—É—á–∏.
- **–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Wi-Fi/NTP:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Wi-Fi –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫, –ø–µ—Ä–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è NTP –µ—Å–ª–∏ –≤—Ä–µ–º—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

### v5.1 (Stability Fixes) ‚Äî 11 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –∏ –ø–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞.**

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **Humidity Validation:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `constrain()` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º 0-100% –ø–æ—Å–ª–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 105.9%) –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö —Å—ã—Ä—ã—Ö –ø–æ–∫–∞–∑–∞–Ω–∏—è—Ö –¥–∞—Ç—á–∏–∫–∞.
- **Duplicate Assignment Fix:** –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ `currentTemp = t;` (copy-paste –æ—à–∏–±–∫–∞).
- **Deterministic Baseline:** –°–ª—É—á–∞–π–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ baseline (`rand() % 50`) –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—á—ë—Ç—á–∏–∫. –¢–µ–ø–µ—Ä—å baseline –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 50 —á—Ç–µ–Ω–∏–π (~5 –º–∏–Ω—É—Ç), —á—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏ —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
- **Slope Calculation Safety:** Fallback-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ slope –∏–∑–º–µ–Ω–µ–Ω–æ —Å `currentAbsHum` –Ω–∞ `NAN`. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `foundHistoricalPoint` ‚Äî —Ä–∞—Å—á—ë—Ç slope –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –≤–∞–ª–∏–¥–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–º–∏–Ω–∏–º—É–º 60 —Å–µ–∫—É–Ω–¥). –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è INEFFICIENT –ø—Ä–∏ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ.

#### –£–ª—É—á—à–µ–Ω–∏—è WebManager:
- **Buffer Overflow Protection:** –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ `snprintf()` –≤ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–µ –∏—Å—Ç–æ—Ä–∏–∏. –¢–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ ‚Äî –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –º–µ—Å—Ç–∞ —Ü–∏–∫–ª —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —á–∞–Ω–∫–µ.

---

### v5.0 (Physics Engine) ‚Äî 11 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ 4-—Å—Ç–∞–¥–∏–π–Ω–æ–π –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π.**

- **Physics-Based Ventilation:** –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ (%) –∫ –ê–±—Å–æ–ª—é—Ç–Ω–æ–π –í–ª–∞–∂–Ω–æ—Å—Ç–∏ (–≥/–º¬≥) –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è. –≠—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –æ—à–∏–±–∫–∏, –≤—ã–∑–≤–∞–Ω–Ω—ã–µ –æ—Å—Ç—ã–≤–∞–Ω–∏–µ–º –≤–æ–∑–¥—É—Ö–∞ (—Ç–µ—Ä–º–∏—á–µ—Å–∫–∏–π –ª–∞–≥).
- **Smart State Machine:** –ù–æ–≤–∞—è 4-—Å—Ç–∞–¥–∏–π–Ω–∞—è –ª–æ–≥–∏–∫–∞:
    - **TARGET_MET:** –û–∫–Ω–æ –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å, —Ü–µ–ª—å (50%) –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞.
    - **INEFFICIENT:** –ü—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Å—Ç–∞–ª–æ –±—ã—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º, –≤–ª–∞–≥–∞ –Ω–µ —É—Ö–æ–¥–∏—Ç.
- **Russian Notifications:** –í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã.
- **Rebound Detection:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ –ø–æ "–æ—Ç—Å–∫–æ–∫—É" –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

---

### v4.4 (Logic Precision) ‚Äî 11 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤ –ª–æ–≥–∏–∫–∏ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è —Å–µ–Ω—Å–æ—Ä–∞.**

- **Critical Logic Fix (Hunter Mode):** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ –≤ –¥–µ—Ç–µ–∫—Ç–æ—Ä–µ —Ä–µ–∑–∫–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è –≤–ª–∞–∂–Ω–æ—Å—Ç–∏. –†–∞–Ω–µ–µ —Å–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–ª–∞ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å —Å–∞–º–æ–π —Å–æ–±–æ–π (–∏–∑-–∑–∞ –ø–æ—Ä—è–¥–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞). –¢–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ "–ø–æ—á–∏–Ω–∏–ª–æ" —Ç—Ä–∏–≥–≥–µ—Ä —Ä–µ–∂–∏–º–∞ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è.
- **Sensor Health:** –û—Ç–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º "Burst Read" (5 –∑–∞–º–µ—Ä–æ–≤ –∑–∞ 200 –º—Å), –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ä—É—à–∞–ª —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é DHT22 (–º–∞–∫—Å 0.5 –ì—Ü) –∏ –º–æ–≥ –≤—ã–∑—ã–≤–∞—Ç—å —Å–∞–º–æ–Ω–∞–≥—Ä–µ–≤. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ.
- **Technical Passport:** –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `system_architecture.md` —Å –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö —Ç–∞–π–º–µ—Ä–æ–≤, –ø–æ—Ä–æ–≥–æ–≤ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≤–µ—Ç–æ–∫ —Å–∏—Å—Ç–µ–º—ã.

---

### v4.3 (Optimization & Stability) ‚Äî 10 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è.**

- **Memory Optimization:** –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–æ **500 —Ç–æ—á–µ–∫**. –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏–ª–æ –Ω–µ—Ö–≤–∞—Ç–∫—É –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –æ–±–µ—Å–ø–µ—á–∏–ª–æ —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
- **Boot Speed:** –¢–∞–π–º–∞—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ NTP —Å–æ–∫—Ä–∞—â—ë–Ω –¥–æ 10 —Å–µ–∫—É–Ω–¥, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä–∏–ª–æ "—Ö–æ–ª–æ–¥–Ω—ã–π" —Å—Ç–∞—Ä—Ç —Å–∏—Å—Ç–µ–º—ã.
- **Code Refactoring:**
    - –í–Ω–µ–¥—Ä–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `ClimateMath.h` –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ (DRY).
    - –õ–æ–≥–∏–∫–∞ OLED –¥–∏—Å–ø–ª–µ—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º—É —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–æ–≤ (–≤–º–µ—Å—Ç–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫), —á—Ç–æ –ø–æ–≤—ã—Å–∏–ª–æ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≥–æ–¥–Ω–æ–≥–æ API –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `Settings.h`.

---

### v4.2 (Graph & Mobile Polish) ‚Äî 9 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤, –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞.**

- **Seamless Sliding Window:** –õ–æ–≥–∏–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ —Å—Ç—Ä–æ–≥–æ–µ "—Å–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ" (3 —á–∞—Å–∞). –ì—Ä–∞—Ñ–∏–∫ –±–æ–ª—å—à–µ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏ –Ω–µ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞, –∞ –ø–ª–∞–≤–Ω–æ —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
- **Code Cleanup:** –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±—É—Ñ–µ—Ä—ã –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ (`dailyBuffer`) –∏ –ª–∏—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —á—Ç–æ –æ—Å–≤–æ–±–æ–¥–∏–ª–æ –ø–∞–º—è—Ç—å –∏ –ø–æ–≤—ã—Å–∏–ª–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å.
- **Mobile Experience:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞—á-–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö (–∫–∞—Å–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è), —É–≤–µ–ª–∏—á–µ–Ω—ã –∑–æ–Ω—ã –Ω–∞–∂–∞—Ç–∏—è (Hit Radius).
- **Legibility Upgrade:** –†–∞–∑–º–µ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π —É–≤–µ–ª–∏—á–µ–Ω —Å 2.5rem –¥–æ 3.5rem –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏–≤–∏–∑–Ω–∞ –∏ –æ—Ç—Å—Ç—É–ø—ã –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞.

---

### v4.1 (State Machine & Calibration) ‚Äî 8 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ —Ç–æ—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.**

#### –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
- **Refined State Machine:** –í–Ω–µ–¥—Ä–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π (`ClimateState`) –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –æ–ø—Ä–æ—Å ("–†–µ–∂–∏–º –•–∏—â–Ω–∏–∫–∞") –∏ —Å–∏—Å—Ç–µ–º—É —Å–æ–≤–µ—Ç–æ–≤. –¢—Ä–∏ —á–µ—Ç–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è:
    - **üü¢ STABLE:** –†–µ–∂–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ä–æ—Å —Ä–∞–∑ –≤ 2 –º–∏–Ω).
    - **üü° VENTILATING:** –ê–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ (–æ–ø—Ä–æ—Å —Ä–∞–∑ –≤ 10 —Å–µ–∫).
    - **üî¥ PLATEAU:** –û–∂–∏–¥–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ä–æ—Å —Ä–∞–∑ –≤ 10 —Å–µ–∫).
- **Context-Aware Plateau:** –°–æ–≤–µ—Ç "–ü–õ–ê–¢–û! –ó–∞–∫—Ä—ã—Ç—å (–≠—Ñ—Ñ. –Ω–∏–∑–∫–∞—è)" —Ç–µ–ø–µ—Ä—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è *–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ* –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ–∞–∑—ã –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è. –õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–∫–æ—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–∫–ª—é—á–µ–Ω—ã.

#### –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∏ —Ç–æ—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **Sensor Calibration:** –í–Ω–µ—Å–µ–Ω—ã —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ **-2.0¬∞C**, –í–ª–∞–∂–Ω–æ—Å—Ç—å **+10.9%** –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —ç—Ç–∞–ª–æ–Ω—É.
- **Smart Detection:** –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ **0.5¬∞C** –ø–∞–¥–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.
- **Mold Risk Logic:** –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω. –ó–æ–Ω–∞ —Ä–∏—Å–∫–∞ < 3.0¬∞C –∑–∞–ø–∞—Å–∞ –¥–æ —Ç–æ—á–∫–∏ —Ä–æ—Å—ã.
- **Time Sync Fix:** –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫. –ó–∞–ø–∏—Å–∏ —Å –≥–æ–¥–æ–º < 2020 (–¥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ NTP) –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è, —á—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –±–∞–≥ —Å –ø–æ—è–≤–ª–µ–Ω–∏–µ–º —Ç–æ—á–∫–∏ "01:00" –≤ –Ω–∞—á–∞–ª–µ –≥—Ä–∞—Ñ–∏–∫–∞.

---

### v4.0 (Cyberpunk Overhaul) ‚Äî 6 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –ü–æ–ª–Ω—ã–π —Ä–µ–¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –æ–±–ª–µ–≥—á–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.**

- **UI Revolution:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Å—Ç–∏–ª–µ "Cyberpunk/MedTech". –ì–ª—É–±–æ–∫–∏–π —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω, –Ω–µ–æ–Ω–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø–∞—Å–∞ –¥–æ –ø–ª–µ—Å–µ–Ω–∏ (Mold Risk Margin).
- **Core Optimization:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –æ–¥–Ω–æ—Ñ–∞–π–ª–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (Single-File) –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –æ–≤–µ—Ä—Ö–µ–¥–∞. –ß–∞—Å—Ç–æ—Ç–∞ CPU –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ 80MHz –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ç–µ–ø–ª–æ–≤–æ–≥–æ —à—É–º–∞.
- **Robust Data Logging:** –í–Ω–µ–¥—Ä—ë–Ω –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
- **Night Mode Logic:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –¥–∏—Å–ø–ª–µ—è (–≤—ã–∫–ª. 22:00-09:00), –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –æ—Ç —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.
- **Chart.js Integration:** –î–≤–æ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ + –í–ª–∞–∂–Ω–æ—Å—Ç—å) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

---

### v3.1 (Stable Core) ‚Äî 4 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å, –∑–∞—â–∏—Ç–∞ –ø–∞–º—è—Ç–∏.**

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **Crash Fix:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/history`. –í–Ω–µ–¥—Ä–µ–Ω–∞ –ø–æ—Ç–æ–∫–æ–≤–∞—è (chunked) –ø–µ—Ä–µ–¥–∞—á–∞ JSON. –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏–ª–æ –≤—ã–ª–µ—Ç—ã "Interrupt Watchdog Timeout" –∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∏—Å—Ç–æ—Ä–∏–∏. –ö–∞–∂–¥—ã–µ 32 –∑–∞–ø–∏—Å–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `vTaskDelay(1)` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è —Å–µ—Ç–∏.
- **Thread Safety:** –í–Ω–µ–¥—Ä–µ–Ω—ã `std::timed_mutex` –¥–ª—è –∑–∞—â–∏—Ç—ã –≤—Å–µ—Ö –æ–±—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (–∏—Å—Ç–æ—Ä–∏—è, —Ç–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è) –º–µ–∂–¥—É –∑–∞–¥–∞—á–µ–π –¥–∞—Ç—á–∏–∫–∞ –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º.
- **Static Memory:** –ü–æ–ª–Ω—ã–π –æ—Ç–∫–∞–∑ –æ—Ç `String` –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –≤ "–≥–æ—Ä—è—á–∏—Ö" –ø—É—Ç—è—Ö. –ë—É—Ñ–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ–ø–µ—Ä—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π (`std::array`), —á—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é –∫—É—á–∏ (Heap Fragmentation).

#### –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
- **Dedicated Task:** –ß—Ç–µ–Ω–∏–µ DHT22 –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –∑–∞–¥–∞—á—É FreeRTOS (`sensorTask`), –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—É—é –∑–∞ –Ø–¥—Ä–æ–º 1. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —á—Ç–µ–Ω–∏—è (6.0 —Å–µ–∫) –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.
- **Stack Tuning:** –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä —Å—Ç–µ–∫–∞ –¥–ª—è –∑–∞–¥–∞—á–∏ `loopTask` (–¥–æ 16–ö–ë) –∏ `sensorTask` (–¥–æ 10–ö–ë) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å JSON.

---

### v3.0 (Base Refactor) ‚Äî 2 –Ø–Ω–≤–∞—Ä—è 2026
**–§–æ–∫—É—Å: –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.**

- **Refactoring:** –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π `main.cpp` —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ 7 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –º–æ–¥—É–ª–µ–π (`SensorManager`, `WebManager`, `DisplayManager` –∏ —Ç.–¥.).
- **Smart Window Logic:** –í–Ω–µ–¥—Ä–µ–Ω–∞ –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π (STABLE ‚Üí VENTILATING ‚Üí PLATEAU) –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è.
- **Plateau Detection:** –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Å—Ç–∞–ª–æ –±—ã—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º ("–ü–õ–ê–¢–û! –ó–∞–∫—Ä—ã—Ç—å –∏ –ì—Ä–µ—Ç—å").
- **Dark UI:** –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ç—ë–º–Ω—ã—Ö —Ç–æ–Ω–∞—Ö —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ Chart.js.

---

### v2.x (Legacy) ‚Äî –î–µ–∫–∞–±—Ä—å 2025
**–§–æ–∫—É—Å: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞.**

- **v2.5 (27 –î–µ–∫–∞–±—Ä—è):** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–≥–æ–¥–Ω–æ–≥–æ API open-meteo.com, —Å–µ–∑–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–≤–µ—Ç–æ–≤.
- **v2.3 (24 –î–µ–∫–∞–±—Ä—è):** Telegram-–±–æ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.
- **v2.0 (20 –î–µ–∫–∞–±—Ä—è):** –ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä —Å –±–∞–∑–æ–≤—ã–º –¥–∞—à–±–æ—Ä–¥–æ–º.
- **v1.0 (15 –î–µ–∫–∞–±—Ä—è):** –ë–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å DHT22 –∏ OLED –¥–∏—Å–ø–ª–µ–µ–º.
